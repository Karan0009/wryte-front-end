(this["webpackJsonpweb-chat-app"]=this["webpackJsonpweb-chat-app"]||[]).push([[0],{38:function(e,t,a){e.exports=a(99)},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),s=a.n(l),i=(a(43),a(3)),c=a(4),o=a(6),u=a(5),d=a(7),m=a(1),p=a(35),g=a.n(p),h=(a(61),a(12)),f=(a(62),function(e){return e.link?r.a.createElement(h.b,{className:["".concat(e.classes)].join(" "),to:e.link},e.children):r.a.createElement("button",{className:["button--".concat(e.design),"button--".concat(e.mode),"".concat(e.classes)].join(" "),onClick:e.onClick,disabled:e.disabled||e.loading,type:e.type},e.loading?"Loading...":e.children)}),v=(a(67),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={serachQuery:"sadf"},a.searchHandler=function(){console.log("hello")},a.profileHandler=function(){return a.props.isAuth?{link:"/profile",name:"Profile"}:{link:"/login",name:"Login"}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(f,{link:"/",classes:"navbar-brand col-4"},this.props.appName),r.a.createElement("div",{className:"search-container col-5"},r.a.createElement("form",{className:"nav-search-form"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"search stories",id:"search"}),r.a.createElement(f,{link:"/search/".concat(this.state.serachQuery),classes:"nav-search-btn",onClick:function(t){return e.searchHandler(t)}},r.a.createElement("i",{className:"fa fa-search"})))),r.a.createElement(f,{link:this.profileHandler().link,classes:"btn btn-secondary btn_profile col-1"},this.profileHandler().name),r.a.createElement(f,{link:"/write",classes:"btn btn-warning btn_write col-1"},"Write"))}}]),t}(n.Component)),b=a(15),E=a(16),j=a(37),w=a.n(j),N=(a(83),a(84),a(85),function(e){var t=Object(n.useState)(e.genreName),a=Object(b.a)(t,2),l=a[0];a[1];return r.a.createElement(h.b,{className:"text_transfrom_none",to:e._id},r.a.createElement("div",{className:"genre_div "},r.a.createElement("p",{className:"genre_text"},l)))});a(86);function y(e){var t=e.className,a=e.style,n=e.onClick;return r.a.createElement("div",{className:t,style:Object(E.a)({},a,{display:"block",background:"red",color:"black"}),onClick:n})}function k(e){var t=e.className,a=e.style,n=e.onClick;return r.a.createElement("div",{className:t,style:Object(E.a)({},a,{display:"block",background:"black"}),onClick:n})}var C=function(e){var t=Object(n.useState)(e.genres),a=Object(b.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(null),c=Object(b.a)(i,2);c[0],c[1];Object(n.useEffect)((function(){s(e.genres)})),Object(n.useEffect)((function(){console.log(l)}));var o={slidesToShow:4,swipeToSlide:!1,dragToSlide:!1,nextArrow:r.a.createElement(y,null),prevArrow:r.a.createElement(k,null)};return r.a.createElement("div",null,r.a.createElement("div",{className:"genres_div"},r.a.createElement(w.a,o,l.map((function(e){return r.a.createElement(N,{key:e.name,_id:e._id,genreName:e.name})})))))},O=(a(87),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"writing_div"},r.a.createElement("h4",{className:"writing_title"},this.props.title),r.a.createElement("p",{className:"writig_text"},this.props.text),r.a.createElement(f,{classes:"btn btn-secondary read-more-btn",link:"/w/".concat(this.props._id)},"Read more"),r.a.createElement("div",{className:"author-info"},r.a.createElement("div",{className:"writing-profile-picture"},r.a.createElement("img",{src:"https://i.ibb.co/r6K6JJn/altophoto-17-10-12-19-02-2018.png",alt:"author-image"})),r.a.createElement("p",null,"username")))}}]),t}(n.Component)),H=(a(88),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={writings:[{_id:"1",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl;fjdslafhsdalhfglksjglsda;jfds;ljflsd;jfsda;fjsda;lfkjsd"},{_id:"2",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"},{_id:"13",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl;fjdslafhsdalhfgll;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdal;fjsdl;fjdslafhsdalhfglksjglsdaksjglsda;jfds;ljflsd;jfsda;fjsda;lfkjsd"},{_id:"45",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"},{_id:"25",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"},{_id:"245",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"},{_id:"2456",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"},{_id:"462",title:"title1",text:"ldsf;kgjlsa;jfsdl;fjsdl"}]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"writings_div"},this.state.writings.map((function(e){return r.a.createElement(O,{key:e._id,_id:e._id,title:e.title,text:e.text})})))}}]),t}(n.Component)),_=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",style:{width:"50%",left:"25%",top:"20%",position:"absolute",zIndex:"999"}},r.a.createElement("strong",null,e.alertMessage),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:e.alertMessageHandler},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},x=(a(89),a(90),function(e){return"select"===e.type?r.a.createElement("div",{className:"form-group"},e.label||r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("select",{className:e.valid?["".concat(e.classes),"form-control"].join(" "):["".concat(e.classes),"form-control","input-error"].join(" "),onChange:e.onChange,name:e.name,onClick:e.onClick},e.options.map((function(t){return r.a.createElement("option",{key:t._id,id:e.id},t.name)})))):"textarea"===e.type?r.a.createElement("div",{className:"form-group"},e.label||r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("textarea",{className:e.valid?["".concat(e.classes),"form-control"].join(" "):["".concat(e.classes),"form-control","input-error"].join(" "),placeholder:e.placeholder,onChange:e.onChange,name:e.name,id:e.id,value:e.value})):r.a.createElement("div",{className:"form-group"},e.label||r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{type:e.type,className:["".concat(e.classes),"form-control",e.valid?"valid":"invalid",e.touched?"touched":"untouched"].join(" "),onChange:e.onChange,onClick:e.onClick,onBlur:e.onBlur,placeholder:e.placeholder,value:e.value,name:e.name,minLength:e.min,maxLength:e.max,id:e.id}))}),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).inputChangeHandler=function(e){var t=a.state.writing,n=a.state.tags;"title"===e.target.id?t.title=e.target.value:"writing-content"===e.target.id?t.content=e.target.value:"genre"===e.target.id?t.genre=e.target.value:"tags"===e.target.id&&(n=e.target.value),a.setState({writing:t,tags:n})},a.handleTagsInput=function(e){var t=a.state.writing,n=a.state.tag;if(n=e.target.value," "===e.target.value.slice(-1)||"\n"===e.target.value.slice(-1)){console.log("tag created");var r=document.createElement("div"),l=document.createElement("p"),s=document.createElement("span");s.addEventListener("click",(function(){var e=t.tags.indexOf(s.parentNode.firstChild.innerHTML);console.log(e);var a=t.tags.splice(e,1);t.tags=a,console.log(t.tags),s.parentElement.remove(),this.setState({writing:t})})),l.innerHTML=n.trim(),t.tags.push(l.innerHTML),s.innerHTML="X",r.classList="tag",r.appendChild(l),r.appendChild(s),e.target.parentNode.appendChild(r),n=""}a.setState({writing:t,tag:n})},a.publishWritingHandler=function(e){e.preventDefault();var t=a.state.tags;a.state.writing.tags=t.trim().split(" "),console.log(a.state.writing),a.setState({writing:{title:"",genre:"",content:"",tags:[]},tags:""}),a.props.setAlertMessage("published successfully"),a.props.alertMessageHandler()},a.catchError=function(e){console.log(e),a.setState({error:e})},a.props.isAuth||a.props.redirectToLogin(),a.state={genres:[],error:null,tags:"",writing:{title:"",genre:"",content:"",tags:[]}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/genres",{method:"GET"}).then((function(e){if(200!==e.status)throw new Error("failed to fetch Genres");return e.json()})).then((function(t){e.setState({genres:t.genres})})).catch(this.catchError)}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container writeForm_div"},r.a.createElement("form",{onSubmit:function(t){return e.publishWritingHandler(t)}},r.a.createElement(x,{type:"text",label:"Title",id:"title",classes:"write-title",placeholder:"Write title here",min:"1",value:this.state.writing.title,onChange:function(t){return e.inputChangeHandler(t)}}),r.a.createElement(x,{type:"select",options:this.state.genres,label:"Genre",id:"genre",classes:"write-genre",placeholder:"Select Genre",min:"1",value:this.state.writing.genre,onClick:function(t){return e.inputChangeHandler(t)}}),r.a.createElement(x,{type:"text",label:"Tags",id:"tags",classes:"write-tags",value:this.state.tags,placeholder:"Write tags here separated by spaces",onChange:function(t){return e.inputChangeHandler(t)}}),r.a.createElement(x,{type:"textarea",id:"writing-content",classes:"write-content",placeholder:"Write your story here",value:this.state.writing.content,onChange:function(t){return e.inputChangeHandler(t)}}),r.a.createElement("div",{className:"form-group"},r.a.createElement(f,{link:"",type:"submit",classes:"btn btn-primary",onClick:function(t){return e.publishWritingHandler(t)}},"Publish")))))}}]),t}(n.Component),S=(a(91),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={writings:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile_header_div"},r.a.createElement("div",{className:"profile_picture"},r.a.createElement("img",{className:"profile_picture_img",src:"https://i.ibb.co/r6K6JJn/altophoto-17-10-12-19-02-2018.png",alt:"profile picture"})),r.a.createElement("div",{className:"profile_bio"},r.a.createElement("h4",{className:"profile_bio_username"},"karan singh"),r.a.createElement("small",{className:"profile_bio_bio"},"just another human"))),r.a.createElement("div",{className:"profile_writings_div"},r.a.createElement("h4",{className:"profile_writings_title col-12"},"My writings"),r.a.createElement("div",{className:"profile_writings_writings_div col-12"},r.a.createElement(H,null)))))}}]),t}(n.Component)),A=(a(92),function(e){return Object(n.useEffect)((function(){console.log(e.match.params.writingId)})),r.a.createElement("div",{className:"container container-main"},r.a.createElement("div",{className:"container-div"},r.a.createElement("div",{className:"author-box"},r.a.createElement("div",{className:"author-profile-picture"},r.a.createElement("img",{src:"https://i.ibb.co/r6K6JJn/altophoto-17-10-12-19-02-2018.png",alt:"author profile picture",className:"author-profle-picture__image"})),r.a.createElement("div",{className:"author-username"},r.a.createElement("p",{className:"author-username__p"},"usernameHere"))),r.a.createElement("div",{className:"writing-box"},r.a.createElement("h4",{className:"writing-title"},"writing title"),r.a.createElement("p",{className:"writing-content"},"writing body"))))}),M=function(e){return""!==e.trim()},P=function(e){return function(t){var a=!0;return e.min&&(a=a&&t.trim().length>=e.min),e.max&&(a=a&&t.trim().length<=e.max),a}},L=function(e){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},B=(a(93),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).inputChangeHandler=function(e){var t=a.state.signupForm,n=!0;if(t[e.target.id].validators.length>0){var r=!0,l=!1,s=void 0;try{for(var i,c=t[e.target.id].validators[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var o=i.value;n=n&&o(e.target.value)}}catch(m){l=!0,s=m}finally{try{r||null==c.return||c.return()}finally{if(l)throw s}}}t[e.target.id]=Object(E.a)({},t[e.target.id],{value:e.target.value,valid:n});var u=!0;for(var d in t)u=u&&t[d].valid;a.setState({signupForm:t,formIsValid:u})},a.inputFileHandler=function(e){var t=a.state.signupForm,n=a.state.errors;if(t.profilePicture.value=e.target.files[0],function(e){return!!e.target.files[0].name.toLowerCase().match(/\.(jpg|jpeg|png)$/)}(e)&&M(e.target.value))t.profilePicture.valid=!0,a.setState({signupForm:t});else{t.profilePicture.value=null,t.profilePicture.valid=!1,a.setState({signupForm:t});var r=new Error("invalid file type");n.push(r),a.setState({errors:n})}},a.inputBlurHandler=function(e){var t=e.target.id,n=a.state.signupForm;n[t].touched=!0,a.setState({signupForm:n})},a.state={errors:[],signupForm:{firstName:{value:"",valid:!1,touched:!1,validators:[M,P({min:2})]},lastName:{value:"",valid:!1,touched:!1,validators:[M,P({min:2})]},username:{value:"",valid:!1,touched:!1,validators:[M,P({min:3})]},email:{value:"",valid:!1,touched:!1,validators:[M,L]},password:{value:"",valid:!1,touched:!1,validators:[M,P({min:6})]},profilePicture:{value:null,valid:!1,touched:!1,validators:[]}},formIsValid:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"mt-5",style:{textAlign:"center"}},"Sign up form"),r.a.createElement("form",{className:"input_form mt-5",onSubmit:function(t){return e.props.signupHandler(t,e.state.signupForm)}},r.a.createElement(x,{type:"file",label:"Profile Picture",name:"profilePicture",id:"profilePicture",classes:"",onBlur:this.inputBlurHandler,onChange:this.inputFileHandler,valid:this.state.signupForm.profilePicture.valid,touched:this.state.signupForm.profilePicture.touched}),r.a.createElement(x,{type:"text",label:"First Name",id:"firstName",classes:"",value:this.state.signupForm.firstName.value,valid:this.state.signupForm.firstName.valid,touched:this.state.signupForm.firstName.touched,placeholder:"first name",onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler}),r.a.createElement(x,{type:"text",label:"Last Name",id:"lastName",classes:"",value:this.state.signupForm.lastName.value,valid:this.state.signupForm.lastName.valid,touched:this.state.signupForm.lastName.touched,placeholder:"last name",onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler}),r.a.createElement(x,{type:"text",id:"username",classes:"",label:"Username",value:this.state.signupForm.username.value,valid:this.state.signupForm.username.valid,touched:this.state.signupForm.username.touched,placeholder:"Enter username",onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler}),r.a.createElement(x,{type:"email",label:"Email",classes:"",id:"email",placeholder:"Enter email",value:this.state.signupForm.email.value,valid:this.state.signupForm.email.valid,touched:this.state.signupForm.email.touched,onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler}),r.a.createElement(x,{type:"password",className:"form-control",id:"password",label:"Password",classes:"",value:this.state.signupForm.password.value,valid:this.state.signupForm.password.valid,touched:this.state.signupForm.password.touched,placeholder:"Password",onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler}),r.a.createElement(f,{type:"submit",classes:"btn btn-primary",disabled:this.state.formIsValid?"":"disabled"},"Sign up"),r.a.createElement("br",null),r.a.createElement(f,{link:"/login",classes:"signin-link"},"Already have an account?")))}}]),t}(n.Component)),T=(a(94),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{email:"",password:""}},a.inputChangeHandler=function(e){var t=a.state.user,n=e.target.id;"email"===n?t.email=e.target.value:"password"===n&&(t.password=e.target.value),a.setState({user:t})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"mt-5",style:{textAlign:"center"}},"Login form"),r.a.createElement("form",{className:"input_form mt-5",onSubmit:function(t){return e.props.loginHandler(t,e.state.user)}},r.a.createElement(x,{type:"email",label:"Email",id:"email",placeholder:"Enter email",value:this.state.user.email,onChange:function(t){return e.inputChangeHandler(t)}}),r.a.createElement(x,{type:"password",className:"form-control",id:"password",label:"Password",value:this.state.user.password,placeholder:"Password",onChange:function(t){return e.inputChangeHandler(t)}}),r.a.createElement(f,{type:"submit",classes:"btn btn-primary"},"Log in"),r.a.createElement("br",null),r.a.createElement(f,{link:"/signup",classes:"signin-link"},"New User?")))}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).catchError=function(e){var t=a.state.error;a.setState({error:t})},a.alertMessageHandler=function(){a.setState({isAlerted:!a.state.isAlerted})},a.errorHandler=function(){a.setState({error:null})},a.setAlertMessage=function(e){a.setState({alertMessage:e})},a.loginHandler=function(e,t){e.preventDefault(),console.log("you are logged in"),a.props.history.push("/"),a.setAlertMessage("you are logged in"),a.alertMessageHandler()},a.signupHandler=function(e,t){e.preventDefault();var n=new FormData;n.append("profilePicture",t.profilePicture.value),n.append("firstName",t.firstName.value),n.append("lastName",t.lastName.value),n.append("username",t.username.value),n.append("email",t.email.value),n.append("password",t.password.value),console.log(t),g.a.post("http://localhost:8080/api/signup",n).then((function(e){console.log(e.data)})).catch(a.catchError)},a.redirectToLogin=function(){a.props.history.replace("/login")},a.state={appName:"4Writers",genres:[],error:null,isAlerted:!0,alertMessage:"",userId:"1",token:"asdfsadfsdf",isAuth:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("mounting occurs"),fetch("http://localhost:8080/api/genres",{method:"GET"}).then((function(e){if(200!==e.status)throw new Error("failed to fetch Genres");return e.json()})).then((function(t){e.setState({genres:t.genres})})).catch(this.catchError)}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(v,{appName:this.state.appName,isAuth:this.state.isAuth}),!this.state.isAlerted&&r.a.createElement(_,{alertMessage:this.state.alertMessage,alertMessageHandler:this.alertMessageHandler}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/write",render:function(t){return r.a.createElement(F,Object.assign({},t,{isAuth:e.state.isAuth,redirectToLogin:e.redirectToLogin,genres:e.state.genres,setAlertMessage:e.setAlertMessage,alertMessageHandler:e.alertMessageHandler}))}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(T,Object.assign({},t,{loginHandler:e.loginHandler}))}}),r.a.createElement(m.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(B,Object.assign({},t,{signupHandler:e.signupHandler}))}}),r.a.createElement(m.a,{exact:!0,path:"/profile",component:S}),r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return r.a.createElement(C,{genres:e.state.genres})}}),r.a.createElement(m.a,{exact:!0,path:"/w/:writingId",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(m.a,{path:"/search"},r.a.createElement(m.a,{path:"/:searchQuery",render:function(e){return r.a.createElement("div",null,e.match.params.searchQuery)}})),r.a.createElement(m.a,{exact:!0,path:"/:genreId",render:function(e){return r.a.createElement(H,e)}})))}}]),t}(n.Component),W=Object(m.f)(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(95),a(96);s.a.render(r.a.createElement(h.a,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.01600595.chunk.js.map